{"ast":null,"code":"var _jsxFileName = \"/home/webapp/ProjectRTMPSerwis/videoSerwis/src/main/webapp/front/src/Components/EditPass.js\";\nimport React from \"react\";\nimport { withRouter } from \"react-router\";\nimport axios from 'axios';\nimport { Button, Card, Col, Form, ListGroup } from \"react-bootstrap\";\nimport Avatar from \"react-avatar\";\n\nclass EditPass extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userId: '',\n      oldPass: '',\n      newPass: '',\n      newPassRep: '',\n      returnString: '',\n      userType: ''\n    };\n    this.valueChange = this.valueChange.bind(this);\n    this.submitChange = this.submitChange.bind(this);\n  }\n\n  valueChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  submitChange(event) {\n    if (this.state.newPass === this.state.newPassRep) axios({\n      method: 'put',\n      url: 'http://localhost:8080/putPassword?newPass=' + this.state.newPass + '&oldPass=' + this.state.oldPass + '&userId=' + this.state.userId\n    }).then(response => response.data).then(data => {\n      this.setState({\n        returnString: data\n      });\n      alert(this.state.returnString);\n      if (this.state.returnString === 0) window.location = \"/\" + this.state.userType + \"/profil\";\n    });\n    this.forceUpdate();\n    event.preventDefault();\n  }\n\n  componentDidMount() {\n    this.state.userId = localStorage.getItem('loggedUser');\n\n    if ('USER' === localStorage.getItem('typeOfUser') && 'MODERATOR' === localStorage.getItem('typeOfUser')) {\n      this.state.userType = \"user\";\n    } else {\n      this.state.userType = \"admin\";\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Card, {\n      className: \"border border-light bg-light text-black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.submitChange,\n      id: \"searchFormId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 33\n      }\n    }, \"Stare Has\\u0142o\"), /*#__PURE__*/React.createElement(Form.Control, {\n      required: true,\n      type: \"password\",\n      autoComplete: \"off\",\n      name: \"oldPass\",\n      value: this.state.oldPass,\n      onChange: this.valueChange,\n      placeholder: \"password\",\n      className: \"bg-light text-black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 33\n      }\n    }, \"Nowe has\\u0142o\"), /*#__PURE__*/React.createElement(Form.Control, {\n      required: true,\n      type: \"password\",\n      autoComplete: \"off\",\n      name: \"newPass\",\n      value: this.state.newPass,\n      onChange: this.valueChange,\n      placeholder: \"password\",\n      className: \"bg-light text-black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 33\n      }\n    }, \"Powt\\xF3rz nowe has\\u0142o\"), /*#__PURE__*/React.createElement(Form.Control, {\n      required: true,\n      type: \"password\",\n      autoComplete: \"off\",\n      name: \"newPassRep\",\n      value: this.state.newPassRep,\n      onChange: this.valueChange,\n      placeholder: \"password\",\n      className: \"bg-light text-black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 33\n      }\n    })))), /*#__PURE__*/React.createElement(Card.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"success\",\n      type: \"submit\",\n      style: {\n        \"textAlign\": \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 29\n      }\n    }, \"Zmie\\u0144\"), \" \"))));\n  }\n\n}\n\nexport default EditPass;","map":{"version":3,"sources":["/home/webapp/ProjectRTMPSerwis/videoSerwis/src/main/webapp/front/src/Components/EditPass.js"],"names":["React","withRouter","axios","Button","Card","Col","Form","ListGroup","Avatar","EditPass","Component","constructor","props","state","userId","oldPass","newPass","newPassRep","returnString","userType","valueChange","bind","submitChange","event","setState","target","name","value","method","url","then","response","data","alert","window","location","forceUpdate","preventDefault","componentDidMount","localStorage","getItem","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { withRouter } from \"react-router\";\nimport axios from 'axios';\nimport {Button, Card, Col, Form,ListGroup} from \"react-bootstrap\";\nimport Avatar from \"react-avatar\";\n\nclass EditPass extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            userId: '',\n            oldPass: '',\n            newPass: '',\n            newPassRep: '',\n            returnString:'',\n            userType:''\n        };\n        this.valueChange = this.valueChange.bind(this)\n        this.submitChange = this.submitChange.bind(this)\n\n    }\n    valueChange  (event){\n        this.setState({\n            [event.target.name]:event.target.value\n        })\n    }\n    submitChange (event) {\n\n\n        if(this.state.newPass===this.state.newPassRep)\n            axios({\n                method:'put',\n                url:'http://localhost:8080/putPassword?newPass='\n                    +this.state.newPass\n                    +'&oldPass='\n                    +this.state.oldPass\n                    +'&userId='\n                    +this.state.userId,\n            }).then(response => response.data)\n                .then((data) =>{\n                    this.setState({returnString: data});\n                    alert(this.state.returnString)\n                    if(this.state.returnString ===0)\n                        window.location = \"/\"+this.state.userType+\"/profil\";\n                });\n               \n\n        this.forceUpdate();\n        event.preventDefault();\n    }\n\n    componentDidMount() {\n        this.state.userId = localStorage.getItem('loggedUser')\n        if ('USER' === localStorage.getItem('typeOfUser') && 'MODERATOR' === localStorage.getItem('typeOfUser')) {\n            this.state.userType=\"user\"\n        }else{\n            this.state.userType=\"admin\"\n        }\n    }\n\n    render() {\n        return (\n            <Card className={\"border border-light bg-light text-black\"}>\n\n                <Form  onSubmit={this.submitChange} id={\"searchFormId\"}>\n                    <Card.Body>\n\n\n                        <Form.Row>\n\n                            <Form.Group as={Col}>\n                                <Form.Label>Stare Hasło</Form.Label>\n                                <Form.Control\n                                    required\n                                    type=\"password\"\n                                    autoComplete={\"off\"}\n                                    name={\"oldPass\"}\n                                    value={this.state.oldPass}\n                                    onChange={this.valueChange}\n                                    placeholder=\"password\"\n                                    className={\"bg-light text-black\"}\n\n                                />\n\n                            </Form.Group>\n\n                        </Form.Row>\n                        <Form.Row>\n\n                            <Form.Group as={Col} >\n                                <Form.Label>Nowe hasło</Form.Label>\n                                <Form.Control\n                                    required\n                                    type=\"password\"\n                                    autoComplete={\"off\"}\n                                    name={\"newPass\"}\n                                    value={this.state.newPass}\n                                    onChange={this.valueChange}\n                                    placeholder=\"password\"\n                                    className={\"bg-light text-black\"}\n\n                                />\n\n                            </Form.Group>\n\n                        </Form.Row>\n                        <Form.Row>\n\n                            <Form.Group as={Col} >\n                                <Form.Label>Powtórz nowe hasło</Form.Label>\n                                <Form.Control\n                                    required\n                                    type=\"password\"\n                                    autoComplete={\"off\"}\n                                    name={\"newPassRep\"}\n                                    value={this.state.newPassRep}\n                                    onChange={this.valueChange}\n                                    placeholder=\"password\"\n                                    className={\"bg-light text-black\"}\n\n                                />\n\n                            </Form.Group>\n\n                        </Form.Row>\n                    </Card.Body>\n                    <Card.Footer>\n                        <div >\n                            <Button size=\"sm\" variant=\"success\" type=\"submit\" style={{\"textAlign\":\"center\"}}>\n                                Zmień\n                            </Button>{\" \"}\n\n                        </div>\n                    </Card.Footer>\n\n                </Form>\n\n\n\n\n            </Card>\n        );\n    }\n\n}\n\n\n\nexport default EditPass;"]},"metadata":{},"sourceType":"module"}