{"ast":null,"code":"var _jsxFileName = \"/home/webapp/ProjectRTMPSerwis/videoSerwis/src/main/webapp/front/src/Components/UserAdmin.js\";\nimport React from \"react\";\nimport { Form, Card, Col, Button } from \"react-bootstrap\";\nimport { ip } from \"./config/config.json\";\nimport axios from \"axios\";\nimport Avatar from \"react-avatar\";\nimport \"./css/Login.css\";\n\nclass UserAdmin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoaded: false,\n      userId: '',\n      roleName: \"USER\",\n      user: []\n    };\n    this.onChangeRoleName = this.onChangeRoleName.bind(this);\n    this.submitRoleName = this.submitRoleName.bind(this);\n  }\n\n  submitRoleName(event) {\n    axios({\n      method: 'post',\n      url: 'http://' + ip + ':8080/postVideo?tag=' + this.state.tag + '&title=' + this.state.title + '&description=' + this.state.description + '&userId=' + this.state.userId\n    }).then(response => response.data).then(data => {\n      this.setState({\n        video: data\n      });\n      this.state.isStarted = true;\n      this.forceUpdate();\n    });\n    event.preventDefault();\n  }\n\n  onChangeRoleName(event) {\n    this.setState({\n      roleName: event.target.roleName\n    });\n  }\n\n  componentDidMount() {\n    axios({\n      method: 'get',\n      url: 'http://' + ip + ':8080/getUsersById?userId=' + this.props.match.params.userId\n    }).then(response => response.data).then(data => {\n      this.setState({\n        user: data\n      });\n      this.setState({\n        isLoaded: true\n      });\n    });\n  }\n\n  render() {\n    if (this.state.isLoaded === true) return /*#__PURE__*/React.createElement(Card, {\n      className: \"border border-light bg-light text-black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      name: this.state.user.login,\n      size: \"50\",\n      round: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 24\n      }\n    }), /*#__PURE__*/React.createElement(\"b\", {\n      className: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 24\n      }\n    }, this.state.user.login)), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, 'HEAD_ADMIN' === localStorage.getItem('typeOfUser') ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, this.state.user.role.roleName === 'HEAD_ADMIN' ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 37\n      }\n    }, \"Nie mo\\u017Cna nic zrobi\\u0107. Wszelkie zmiany musz\\u0105 zosta\\u0107 wykoane z posiomu serwara bazy danych.\")) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmitRole: this.submitRoleName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 49\n      }\n    }, \"Twoje\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      required: true,\n      autoComplete: \"off\",\n      name: \"roleName\",\n      value: this.state.roleName,\n      onChange: this.onChangeRoleName,\n      className: \"bg-light text-black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"USER\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 53\n      }\n    }, \"USER\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"MODERATOR\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 53\n      }\n    }, \"MODERATOR\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"ADMIN\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 53\n      }\n    }, \"ADMIN\")), /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"success\",\n      type: \"submit\",\n      style: {\n        \"textAlign\": \"center\",\n        \"align\": \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 49\n      }\n    }, \"Zmie\\u0144\")))))) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    })));else return /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 27\n      }\n    }, \"Loading!\");\n  }\n\n}\n\nexport default UserAdmin;","map":{"version":3,"sources":["/home/webapp/ProjectRTMPSerwis/videoSerwis/src/main/webapp/front/src/Components/UserAdmin.js"],"names":["React","Form","Card","Col","Button","ip","axios","Avatar","UserAdmin","Component","constructor","props","state","isLoaded","userId","roleName","user","onChangeRoleName","bind","submitRoleName","event","method","url","tag","title","description","then","response","data","setState","video","isStarted","forceUpdate","preventDefault","target","componentDidMount","match","params","render","login","localStorage","getItem","role"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Form, Card, Col, Button} from \"react-bootstrap\";\nimport {ip} from \"./config/config.json\"\nimport axios from \"axios\";\nimport Avatar from \"react-avatar\";\nimport \"./css/Login.css\";\n\nclass UserAdmin extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            isLoaded:false,\n            userId: '',\n            roleName:\"USER\",\n            user: [],\n\n        };\n\n\n        this.onChangeRoleName = this.onChangeRoleName.bind(this)\n        this.submitRoleName = this.submitRoleName.bind(this)\n    }\n\n\n    submitRoleName (event) {\n\n        axios({\n            method:'post',\n            url:'http://'+ip+':8080/postVideo?tag='\n                +this.state.tag\n                +'&title='\n                +this.state.title\n                +'&description='\n                +this.state.description\n                +'&userId='\n                +this.state.userId,\n        }).then(response => response.data)\n            .then((data) =>{\n                this.setState({video: data});\n                this.state.isStarted=true\n                this.forceUpdate()\n\n            });\n\n\n        event.preventDefault();\n    }\n\n    onChangeRoleName(event) {\n        this.setState({ roleName: event.target.roleName })\n\n    }\n\n    componentDidMount() {\n        axios({\n            method:'get',\n            url:'http://'+ip+':8080/getUsersById?userId='+this.props.match.params.userId,\n        }).then(response => response.data)\n            .then((data) =>{\n                this.setState({user: data});\n                this.setState({isLoaded: true});\n\n            });\n    }\n\n\n    render() {\n        if(this.state.isLoaded===true)\n            return (\n\n                <Card className={\"border border-light bg-light text-black\"}>\n                   <Card.Header>\n                       <Avatar name={this.state.user.login} size=\"50\" round={true}></Avatar>\n                       <b className={\"login\"}>{this.state.user.login}</b>\n                   </Card.Header>\n                    <Card.Body>\n                        {'HEAD_ADMIN' === localStorage.getItem('typeOfUser')?\n                        <div>\n                            {this.state.user.role.roleName==='HEAD_ADMIN' ?\n                                <div>\n                                    <b>Nie można nic zrobić. Wszelkie zmiany muszą zostać wykoane\n                                        z posiomu serwara bazy danych.</b>\n                                </div>\n                            :\n                                <div>\n                                    <Form onSubmitRole={this.submitRoleName}>\n                                        <Form.Row>\n                                            <Form.Group as={Col}>\n                                                <Form.Label>Twoje</Form.Label>\n                                                <Form.Control\n                                                    as=\"select\"\n                                                    required\n                                                    autoComplete={\"off\"}\n                                                    name={\"roleName\"}\n                                                    value={this.state.roleName}\n                                                    onChange={this.onChangeRoleName}\n                                                    className={\"bg-light text-black\"}\n                                                >\n                                                    <option value = {\"USER\"}>USER</option>\n                                                    <option value = {\"MODERATOR\"}>MODERATOR</option>\n                                                    <option value = {\"ADMIN\"}>ADMIN</option>\n                                                </Form.Control>\n                                                <Button size={\"sm\"} variant=\"success\" type=\"submit\" style={{\"textAlign\":\"center\", \"align\":\"right\"}}>\n                                                    Zmień\n                                                </Button>\n                                            </Form.Group>\n\n                                        </Form.Row>\n                                    </Form>\n                                </div>\n                            }\n\n                        </div>\n                            :\n                            <div>\n\n                            </div>\n                        }\n                    </Card.Body>\n\n                </Card>\n\n            );else return(<h1>Loading!</h1>)\n\n\n    }\n\n}\n\n\nexport default UserAdmin;"]},"metadata":{},"sourceType":"module"}